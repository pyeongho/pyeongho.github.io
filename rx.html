<!DOCTYPE html>
<html>
<head>
    <!-- [[! Document Settings ]] -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- [[! Page Meta ]] -->
    <title>RxJava</title>
    <meta name="description" content="PyeongHo Factory - 즐거운 공장" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- [[! Styles'n'Scripts ]] -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css"
          href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- [[! highlight.js ]] -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- [[! Ghost outputs important style and meta data with this tag ]] -->
        <link rel="canonical" href="/" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="PyeongHo Factory" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="PyeongHo Factory" />
    <meta property="og:description" content="즐거운 공장" />
    <meta property="og:url" content="/" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="PyeongHo Factory" />
    <meta name="twitter:description" content="즐거운 공장" />
    <meta name="twitter:url" content="/" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Finding The Way Home",
    "url": "/",
    "image": "/assets/images/cover1.jpg",
    "description": "즐거운 공장"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="PyeongHo Factory" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
    
        <li class="nav-android " role="presentation"><a href="/tag/android">Android</a></li>
        <li class="nav-java " role="presentation"><a href="/tag/java">Java</a></li>
        <li class="nav-book " role="presentation"><a href="/tag/book">Book</a></li>
  
        <li class="nav-conference " role="presentation"><a href="/tag/conference">Conference</a></li>
        <li class="nav-githubpage " role="presentation"><a href="/tag/githubpage">githubpage</a></li>
        <li class="nav-ios " role="presentation"><a href="/tag/iOS">iOS</a></li>
        <li class="nav-python " role="presentation"><a href="/tag/python">Python</a></li>
        <li class="nav-security " role="presentation"><a href="/tag/security">Security</a></li>
 
    </ul>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- [[! Everything else gets inserted here ]] -->
        <!-- < default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/cover6.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/ghost.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-java">

        <header class="post-header">
            <h1 class="post-title">RxJava</h1>
            <section class="post-meta">
            <!-- <a href='/'>PyeongHo</a> -->
            <time class="post-date" datetime="2017-03-13">13 Mar 2017</time>
                <!-- [[tags prefix=" on "]] -->
                 
                on 
                
                    
                       <a href='/tag/java'>Java</a>,
                       
                
                    
                       <a href='/tag/rxjava'>Rxjava</a>
                       
                
                
            </section>
        </header>

        <section class="post-content">
            
            <h3 id="rxjava-">RxJava 이해하기</h3>

<h4 id="section">공부 링크</h4>

<ul>
  <li><a href="http://post.naver.com/viewer/postView.nhn?volumeNo=6721006&amp;memberNo=34635212">http://post.naver.com/viewer/postView.nhn?volumeNo=6721006&amp;memberNo=34635212</a></li>
</ul>

<h4 id="reactive-programming">Reactive Programming</h4>
<ul>
  <li>“컴퓨팅으로써 반응형 프로그래밍은 데이터의 흐름과 변화에 대한 전달을 기반으로 하는 프로그래밍 패러다임이다.”</li>
  <li>데이터 처리가 끝날 때까지 쓰레드를 대기시키거나 코백을 받아서 처리하기 때문에 불필요한 컴퓨팅 리소스 사용이 발생하 됩니다. 반면 Messaging 기반의 Reactive Programming 에서는 필요한 경우에만 쓰레드를 생성 후 메시지 형태로 전달한다.</li>
</ul>

<h4 id="rxjava--">RxJava 의 기초</h4>
<ul>
  <li>RxJava 는 데이트를 가공/변형/처리를 하는 라이브러리</li>
</ul>

<h4 id="rxjava">RxJava</h4>
<ul>
  <li>0~10까지의 Int 형 배열이 있습니다. Int 형 배열을 a 부터 j 까지 변경하여 화면에 출력하도록 하겠습니다.</li>
  <li>rxjava 는 람다가…</li>
</ul>

<p>```java
    // old
    List<integer> datas = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
    for (int data : datas) {
      char value = (char) data + 'a';
      print(value);
    }</integer></p>

<div class="highlighter-rouge"><pre class="highlight"><code>//rxjava 특이점 없음
Observable.fromIteratable(datas)
.subscribe(data -&gt; {
  char value = (char) data + 'a';
  print(value);
});

//rxjava 의 map 를 이용함
Observable.fromIteratable(datas)
.map(data -&gt; (char) data + 'a')
.subscribe(value -&gt; print(value));

// 요구조건 추가 
//추가 1 : 짝수에 해당하는 숫자는 출력하지 말 것.

//old
for (int data : datas) {
  if ((data % 2) != 0) {
    char value = (char) data + 'a';
    print(value);
  }
}

//rxjava filter 을 이용함
Observable.fromIteratable(datas)
.filter(data -&gt; (data % 2) != 0)
.map(data -&gt; (char) data + 'a')
.subscribe(value -&gt; print(value));

//또 추가조건
//추가 2 : 각 문자는 10번씩 반복되도록 한꺼번에 출력되도록 할 것.

//old
List&lt;Character&gt; chars = new ArrayList&lt;&gt;();
for (int data : datas) {
  if ((data % 2) != 0) {
    char value = (char) data + 'a';    
    for (int idx = 0; idx &lt; 10; idx++) {
      chars.add(value);
    }
  }
}
print(chars);
 
//rxjava flatmap 
//flatmap 은 1개의 데이터에 대해 n 개의 데이터로 변형할 수 있는 처리 기능
//collect 는 주입된 데이터를 특정 Collection 에 담을 수 있도록 하는 처리 기능
//Observable.range 는 (n, m) 에 대해 n 부터 n + m -1 만큼 int 형 데이터를 호출해주는 데이터로
//Observable.range(0, 10).map(index -&gt; value)) 는 value 라는 값을 10번 반복
Observable.fromIteratable(datas)
.filter(data -&gt; (data % 2) != 0)
.map(data -&gt; (char) data + 'a')
.flatMap(value -&gt; Observable.range(0, 10).map(index -&gt; value))
.collect(() -&gt; new ArrayList&lt;Character&gt;(), (chars, value) -&gt; chars.add(value))
.subscribe(values -&gt; print(values));
</code></pre>
</div>

<p>```</p>

<h4 id="subject">Subject</h4>
<ul>
  <li>지금까지 Observable 정해진 데이터만 사용</li>
  <li>하지만 데이터가 언제 어떻게 시작될지 모르는 경우가 있다.</li>
  <li>일반적인 예시로 사용자가 화면을 터치하는 것은 언제 얼마나 할지 알 수 없습니다.</li>
  <li>이런 경우 Subject를 사용합니다.</li>
  <li>Observable 는 내부에서</li>
  <li>
    <p>Subject 는 외부에서
```java
   PublishSubject<integer> subject = PublishSubject.<integer>create();
   subject
   .filter(data -&gt; (data % 2) != 0)
   .map(data -&gt; (char) data + 'a')
   .flatMap(value -&gt; Observable.range(0, 10).map(index -&gt; value))
   .collect(() -&gt; new ArrayList<character>(), (chars, value) -&gt; chars.add(value))
   .subscribe(values -&gt; print(values));</character></integer></integer></p>

    <p>//사용
   subject.onNext(0);
   subject.onNext(1);
   subject.onNext(2);
   subject.onNext(3);
   subject.onNext(4);
   subject.onNext(5);
```</p>
  </li>
</ul>

<h4 id="section-1">비동기 처리하기</h4>
<ul>
  <li>rxjava 는 비동기처리에 굉장히 유연하고 쉽게 사용 가능</li>
  <li>주로 사용하는 비동기 쓰레드 선언
    <ul>
      <li>Schedulers.io()
        <ul>
          <li>Network IO 나 File IO 등을 처리하기 위한 쓰레드</li>
        </ul>
      </li>
      <li>Schedulers.computation()
        <ul>
          <li>단순 연산로직등에 사용되며 Event Looper 에 의해 동작하는 쓰레드</li>
        </ul>
      </li>
      <li>AndroidSchedulers.mainThread()</li>
      <li>Android 에서 UI Thread 에서 처리하기 위한 쓰레드</li>
    </ul>
  </li>
  <li>데이터 주입과 데이터 처리
    <ul>
      <li>데이터 주입 : subscribeOn(쓰레드)
        <ul>
          <li>데이터를 주입하는 시점에 대한 쓰레드 선언이며 모든 stream 내에서 최종적으로 선언한
쓰레드가 할당됩니다.</li>
        </ul>
      </li>
      <li>데이터 처리 : observeOn(쓰레드)
        <ul>
          <li>쓰레드를 선언한 다음부터 새로운 쓰레드가 선언되기 전까지 데이터 처리에 동작할 쓰레드
를 할당합니다.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>예제를 보면서 기존에는 아래와 같은 코드가 뭔지 몰랐지만 저렇게 된다는걸 이해됨 기능별로 쓰레드를 나누어서 동작시키는 코드로 아래처럼 코드로 이벤트 스트림을 만드는걸로 보임, 데이터주입은 아래처럼 한개만 있으면 되고, 데이터처리는 필요할때마다 변경해서 사용</li>
</ul>

<p><code class="highlighter-rouge">java
    Observable.create(emitter -&gt; {
      emitter.onNext(1);
      emitter.onNext(2);
      emitter.onNext(3);
      emitter.onNext(4);
      emitter.onComplete();
    })
    .subscribeOn(Schedulers.computation())
    .observeOn(Schedulers.io())
    .filter(data -&gt; (data % 2) != 0)
    .map(data -&gt; (char) data + 'a')
    .observeOn(Schedulers.computation())
    .flatMap(value -&gt; Observable.range(0, 10).map(index -&gt; value))
    .collect(() -&gt; new ArrayList&lt;Character&gt;(), (chars, value) -&gt; chars.add(value))
    .observeOn(AndroidSchedulers.mainThread())
    .subscribe(values -&gt; print(values));
 </code>
  - 위 코드는 아래와 같은 쓰레드로 동작
    - Observable.create() - Schedulers.computation()
    - filter() - Schedulers.io()
    - map() - Schedulers.io()
    - flatMap() - Schedulers.computation()
    - collect() - Schedulers.computation()
    - subscribe() - AndroidSchedulers.mainThread()</p>

<h4 id="rx-">Rx 기능정리</h4>
<ul>
  <li><a href="http://reactivex.io/documentation/operators.html#alphabetical">Rx 문서</a></li>
</ul>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->

            
            <figure class="author-image">
                <a class="img" href="/author/PyeongHo" style="background-image: url(/assets/images/casper.png)"><span class="hidden">'s Picture</span></a>
            </figure>
            

            <section class="author">
                <h4><a href="/author/PyeongHo">PyeongHo</a></h4>
                
                
                    <p> 즐겁게 또 즐겁게</p>
                
                <div class="author-meta">
                    <span class="author-location icon-location">  KOREA</span> 
                    <span class="author-link icon-link"><a href="https://pyeongho.github.io/"> pyeongho.github.io/</a></span> 
                </div>
            </section>

            <!-- /author  -->

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=RxJava&amp;url=https://pyeongho.github.io/rx"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://pyeongho.github.io/rx"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://pyeongho.github.io/rx"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <!-- Add Disqus Comments -->
            
            <div id="disqus_thread"></div>
            <script>
            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '//pyeongho-factory.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            
        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/assets/images/cover5.jpg)" href="/ios_1">
            <section class="post">
                <h2>스위프트를 이용해서 앱을 개발해 보자(iOS 공부 1일차)</h2>
                <p>### iOS를 공부해서 원하는 앱을 만들어 보자 - 안드로이드 개발자지만 iOS 앱을 만들어 보고 싶어서...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/cover6.jpg)" href="/gof-3">
            <section class="post">
                <h2>java 디자인패턴 3일차</h2>
                <p>GoF 의 자바 디자인 패턴, 인프런 강의 코드 링크 https://github.com/parkgaram/java-designpattern 7.2 추상 팩토리 패턴 GUI...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">PyeongHo Factory</a> &copy; 2017</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/biomadeira/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- [[! Ghost outputs important scripts and data with this tag ]] -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- [[! The main JavaScript file for Casper ]] -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-90332203-1', 'auto');
	    ga('send', 'pageview');

     </script>   
</body>
</html>
