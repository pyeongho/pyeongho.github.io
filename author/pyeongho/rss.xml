<?xml version="1.0" encoding="UTF-8" ?>

<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
   
      <title>pyeongho.github.io</title>
   
   <link>https://pyeongho.github.io</link>
   <description>즐거운 공장</description>
   <language>en-uk</language>
   <managingEditor> PyeongHo</managingEditor>
   <atom:link href="rss" rel="self" type="application/rss+xml" />
   
	<item>
	  <title>github action 사용하기</title>
	  <link>//action</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-09-22T00:00:00+00:00</pubDate>
	  <guid>//action</guid>
	  <description><![CDATA[
	     <h3>Github action 을 이용한 CI/CD</h3>

<ul>
<li>기본적인 액션 사용법은 너무 간단합니다.

<ul>
<li>깃허브에서 액션 누르고 새로 만들기 누르고 안드로이드 선택 하면 기본적인 생성은 가능합니다.</li>
</ul></li>
<li><p>원하는 방법이 모두 다를수 있지만 간단하게 작성해 보았습니다.</p>

<ul>
<li>특정 태그가 푸시 되면 빌드를 시작 한다.</li>
<li>원하는 flavor 로 빌드 한다.</li>
<li>태그 이름으로 바이너리를 생성한다.</li>
<li>바이너리를 아티팩트로 만들어서 업로드 한다.</li>
<li>슬랙으로 공유한다.</li>
<li>아티팩트 주소가 아닌 슬랙 액션 주소를 공유해서 찾아서 다운 받아야 하지만 빌드 상태를 알수 있어서 그냥 유지 하였습니다.</li>
</ul></li>
<li><p>참고 내용</p>

<ul>
<li>태그 필터 아래 내용이 DEV 로 시작하는 태그를 감지하여 빌드를 시작하는 코드
~~~
on:
push:
tags:
  - DEV*
~~~</li>
<li>flavor 로 빌드 하기

<ul>
<li>run: bash ./gradlew assembleDevDebug</li>
<li>bash 퍼미션 오류 수정</li>
<li>assembleDevDebug 원하는 flavor 로 apk 생성
~~~
- uses: actions/checkout@v2
- name: set up JDK 1.8
uses: actions/setup-java@v1
with:
java-version: 1.8
- name: Build with Gradle
run: bash ./gradlew assembleDevDebug
~~~</li>
</ul></li>
<li>태그 이름 환경 변수 설정 및 사용
~~~
- name: Set tag name env
  run: echo ::set-env name=DEVELOP<em>VERSION::${GITHUB</em>REF#refs/*/}
- name: check tag name
  run: |
    echo $DEVELOP_VERSION
    echo $<br>
~~~</li>
<li>파일 이름 변경, 아티팩트 업로드(라이브러리 사용)</li>
<li>슬랙 알림 라이브러리

<ul>
<li><a href="https://github.com/marketplace/actions/slack-notify">https://github.com/marketplace/actions/slack-notify</a></li>
</ul></li>
</ul></li>
</ul>

<p><script src="https://gist.github.com/pyeongho/72c897d81aeb4b9e03404d0289a31fa0.js"></script></p>

	  ]]></description>
	</item>

	<item>
	  <title>소소한 재택 근무</title>
	  <link>//home</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-08-26T00:00:00+00:00</pubDate>
	  <guid>//home</guid>
	  <description><![CDATA[
	     <h3>처음으로 재택</h3>

<ul>
<li>집에 책상 의자가 없어서 바닥에 앉아서 하는데 엉덩이가 너무 아퍼요</li>
<li>생각보다 적응은 잘되요 ㅎㅎ</li>
<li></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>안드로이드 앱 상태(foreground, background)</title>
	  <link>//app</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-03-12T00:00:00+00:00</pubDate>
	  <guid>//app</guid>
	  <description><![CDATA[
	     <h3>외부에서 앱을 실행 하거나 푸시 도착 했을때 앱 상태가 필요 한 경우가 있습니다.</h3>

<ul>
<li>Foreground 라는 클래스를 사용 했지만 라이프 사이클을 이용하면 쉽게 처리 가능합니다.</li>
</ul>

<h3>라이프 사이클 클래스</h3>

<ul>
<li>상태는 3개로 실행 안됨</li>
<li>백그라운드</li>
<li>포그라운드<br>
<script src="https://gist.github.com/pyeongho/5a3a3bcfa25b9b85e1dd4c3a6d474c2b.js"></script></li>
</ul>

<h3>애플리케이션 클래스에 추가</h3>

<ul>
<li>앱에서 사용하는 애플리케이션 클래스를 상속 받은 곳에서 아래 내용을 추가해서 활성화 한다.</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">ProcessLifecycleOwner.get()
            .lifecycle
            .addObserver(OnAppObserver())

</code></pre></div>
<h3>유의사항</h3>

<ul>
<li>아래 내용 참고 해서 원하는상태를 체크해서 동작 하면 됩니다.</li>
<li>외부 딥링크에서 앱 호출시 포그라운드 동작한다.

<ul>
<li>스키마로 앱을 실행하면서 백그라운드에서 포그라운드로 변경되면서 포그라운드 동작 </li>
</ul></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>안드로이드 adid 가져오기</title>
	  <link>//adid</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-02-25T00:00:00+00:00</pubDate>
	  <guid>//adid</guid>
	  <description><![CDATA[
	     <h3>앱을 개발하다 보면 adid 를 가져와야 하는 일도 있습니다.</h3>

<ul>
<li>최종적으로 사용할 함수는 아래와 같습니다. </li>
<li>비동기 처리는 필수 입니다.</li>
<li>그리고 의존성도 추가 해야 합니다.</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  AdvertisingIdClient.getAdvertisingIdInfo(context).getId()
</code></pre></div>
<h3>추가 내용 및 최종 카드</h3>

<ul>
<li>의존성 이름은 아래와 같으면 버전은 선택해서 넣으면 됩니다. </li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  implementation 'com.google.android.gms:play-services-ads:18.3.0'

</code></pre></div>
<ul>
<li>대충 코드는 아래와 같으면 어싱크 태스크 등을 이용하셔도 됩니다.</li>
<li>AdvertisingIdClient.getAdvertisingIdInfo(context).getId()  함수를 비동기로 사용 하면 됩니다.</li>
</ul>
<div class="highlight"><pre><code class="language-kotlin" data-lang="kotlin">
    Observable.just(context)
            .map {AdvertisingIdClient.getAdvertisingIdInfo(it).getId()}
            .subscribeOn(Schedulers.io())
            .subscribe(
                    {
                        log.d("adid  "+it)
                    },
                    {
                        log.e(it.message)
                    },
                    {}
            )

</code></pre></div>
	  ]]></description>
	</item>

	<item>
	  <title>안드로이드 5.0 ~ 5.1 Error inflating class android.webkit.WebView (21~22)</title>
	  <link>//androidx_webview</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-02-07T00:00:00+00:00</pubDate>
	  <guid>//androidx_webview</guid>
	  <description><![CDATA[
	     <h3>참고</h3>

<ul>
<li><a href="https://stackoverflow.com/questions/57783707/webview-inflateexception">https://stackoverflow.com/questions/57783707/webview-inflateexception</a></li>
</ul>

<h3>androidx 에서 Error inflating class android.webkit.WebView 에러 발생</h3>

<ul>
<li>롤리팝 버전에서 해당 에러로 앱 크래시</li>
</ul>

<h3>콜라보레이션</h3>

<ul>
<li>androidx.appcompat:appcompat:1.1.0</li>
<li>com.google.android.material:material:1.1.0</li>
<li>위 2개의 라이브러리의 콜라브레이션으로 에러 발생  1.1.0 이 2개모두 추가되어 있으면 100% 크래시(롤리팝 버전에서)</li>
</ul>

<h3>appcompat 버전 수정</h3>

<ul>
<li>androidx.appcompat:appcompat:1.1.0 -&gt; androidx.appcompat:appcompat:1.0.2 </li>
<li>com.google.android.material:material:1.1.0</li>
<li>appcompat:1.0.2를 사용한다고 하면 안죽는다고 하지만 </li>
<li>appcompat:1.0.2 과 material:1.0.0 을 사용할때만 정상 동작 합니다.</li>
</ul>

<h3>웹뷰 커스텀 버전을 사용하는게 마음이 편할거 같습니다.</h3>

<ul>
<li><p>코틀린 버전 (자동 변환)
<script src="https://gist.github.com/pyeongho/44f8bd5cac7c26a9d6110550535cbefa.js"></script></p></li>
<li><p>자바 버전
<script src="https://gist.github.com/pyeongho/70dc3d9c1035a9082756f7982059876a.js"></script></p></li>
</ul>

	  ]]></description>
	</item>

	<item>
	  <title>플레이스토어 referrer 데이터 넘기기</title>
	  <link>//store_referrer</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-02-04T00:00:00+00:00</pubDate>
	  <guid>//store_referrer</guid>
	  <description><![CDATA[
	     <h3>참고</h3>

<ul>
<li><a href="https://stackoverflow.com/questions/24833801/pass-referrer-data-through-chrome-intent-to-google-play">https://stackoverflow.com/questions/24833801/pass-referrer-data-through-chrome-intent-to-google-play</a></li>
</ul>

<h3>랜딩 페이지 제작 시  referrer 데이터 전송</h3>

<ul>
<li>검색 하면 항상 나오는 형태로 아래와 같이 사용이 가능 하다.</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  market://details?id=com.패키지.이름&amp;referrer=xxxx 
</code></pre></div>
<ul>
<li>위와 같이사용하기 위해서는 웹에서 앱의 설치 유무를 판단 하여 앱실행 또는 마켓이동으로 분기를 처리해야한다. 분기 처리가 완벽하면 문제가 없겠지만 타임아웃을 이용해서 처리하는게 일반적이어서 문제가 발생 한다.</li>
<li>차라리 아래와 같은 일반 적인 형태에서 처리가 가능하면 어떨까 해서 찾아 보았습니다.(전달 데이터는 URL인코딩 사용 추천)</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  Intent://호스트?데이터A=AAAAAAAA&amp;데이터B=BBBBBBB#Intent;scheme=스키마;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=com.패키지.이름;end 
</code></pre></div>
<h2>intent:// 스토어 이동시 리퍼러(referrer) 및 extra 데이터 전달</h2>

<ul>
<li>S.market_referrer= 를 추가하면 플레이스토어어 리퍼러에 데이터 전달 가능</li>
<li>아래 처럼 넣으면 InstallReferrerClient 에서 데이터를 확인 가능 합니다.</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  Intent://호스트?데이터A=AAAAAAAA&amp;데이터B=BBBBBBB#Intent;scheme=스키마;action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package=com.패키지.이름;S.market_referrer=데이터A=AAAAAAAA&amp;데이터B=BBBBBBB;end 
</code></pre></div>
<ul>
<li>참고 
<script src="https://gist.github.com/pyeongho/a129329471269e1b9fcf09d6a19c24b5.js"></script></li>
</ul>

<h2>intent 로 데이터를 보내는 형태가 미리 정의 되어 있다.</h2>

<ul>
<li>타입</li>
<li>S.market<em>referrer 이면 스트링 타입의 market</em>referrer 이다.<br></li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  String =&gt; 'S'
  Boolean =&gt;'B'
  Byte =&gt; 'b'
  Character =&gt; 'c'
  Double =&gt; 'd'
  Float =&gt; 'f'
  Integer =&gt; 'i'
  Long =&gt; 'l'
  Short =&gt; 's'

</code></pre></div>
<ul>
<li> 웹에서 앱을 시작 할때 쿼리문 말고 아래 처러 보내서 데이터를 확인 가능 합니다.</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">  // 웹 
  &lt;a href="intent://whatever/#Intent;scheme=myapp;package=com.what.ever.myapp;S.name=Perico%20de%20los%20Palotes;i.age=35;end"&gt;Do Whatever&lt;/a&gt;


  // 앱 
  intent.extras?.let {
      val  name = it.getString("name")
      val  age = it.getInt("age")
  }

</code></pre></div>
	  ]]></description>
	</item>

	<item>
	  <title>카카오 SDK 사용하기</title>
	  <link>//plusfriend</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-01-21T00:00:00+00:00</pubDate>
	  <guid>//plusfriend</guid>
	  <description><![CDATA[
	     <h3>참고</h3>

<ul>
<li><a href="https://developers.kakao.com/docs/android/getting-started">https://developers.kakao.com/docs/android/getting-started</a></li>
</ul>

<h3>SDK 연동 및 사용</h3>

<ul>
<li>기본 적인 내용은 개발자 사이트에서 사용 가능하지만 이상하게 없는 정보들이 있습니다.</li>
</ul>

<h3>KAKAO<em>SDK</em>VERSION 정보 찾기</h3>

<ul>
<li><a href="https://developers.kakao.com/docs/sdk">https://developers.kakao.com/docs/sdk</a> </li>
<li>위 링크에서 최신 정보를 확인 할 수 있습니다.</li>
<li>문제점은 변경 내역을 자세히 봐야 합니다. androidx 사용을 구분으로 사용 가능한 버전을 따로 관리 안함<br></li>
<li>androidx 버전 : 1.22.0 ~ 최신 버전</li>
<li>구버전        : ~  1.21.1 까지<br></li>
<li>androidx 를 사용하지 않는다면 1.21.1을 사용하면 됩니다.</li>
</ul>

<h3>카카오 채널</h3>

<ul>
<li>dependencies  추가 할때 내용을 보면 카카오 채널 관련 내용이 없어서 구글 검색으로 내용을 확인 했습니다.</li>
<li>카카오 채널은 name 에 plusfriend를 추가후 확인해야 합니다.</li>
</ul>

<h2>androidx : 1.22.0  이후 버전 사용</h2>

<h2>not androidx : 1.21.1  까지 사용 가능</h2>

<h2>카카오 채널 :  plusfriend를</h2>

	  ]]></description>
	</item>

	<item>
	  <title>UndeliverableException 발생</title>
	  <link>//undeliverableException</link>
	  <author>PyeongHo</author>
	  <pubDate>2020-01-15T00:00:00+00:00</pubDate>
	  <guid>//undeliverableException</guid>
	  <description><![CDATA[
	     <h3>참고</h3>

<ul>
<li><a href="https://thdev.tech/android/2019/03/04/RxJava2-Error-handling/">https://thdev.tech/android/2019/03/04/RxJava2-Error-handling/</a></li>
</ul>

<h3>UndeliverableException</h3>

<ul>
<li>최근 들어 UndeliverableException이 자주 발생 하여 블로그를 참고 하여 코드를 그냥 쓰려고 하였지만 에러가 있어 아주 조금 수정 하였습니다.</li>
<li>자세한 내용은 참고 링크에 있습니다.</li>
<li>rxjava disposable 이후 이벤트가 들어 올때 발생 합니다.</li>
</ul>

<p><script src="https://gist.github.com/pyeongho/8a50d38c8957a070098b8ebb71ae8ccc.js"></script></p>

	  ]]></description>
	</item>

	<item>
	  <title>구글 스프레드 시트 자동 언어(안드로이드)</title>
	  <link>//gdata</link>
	  <author>PyeongHo</author>
	  <pubDate>2019-12-24T00:00:00+00:00</pubDate>
	  <guid>//gdata</guid>
	  <description><![CDATA[
	     <h3>참고</h3>

<ul>
<li><a href="https://dunji.tistory.com/2">https://dunji.tistory.com/2</a></li>
</ul>

<h3>구글 스프레드 시트 자동 번역을 이용하려고 python 을 사용하려고 할때 발생하는 에러</h3>

<ul>
<li>=GOOGLETRANSLATE(B592,&quot;ko&quot;,&quot;en&quot;) 요런 구글 자동 번역</li>
</ul>

<h3>문제는 실행하면   Moved Permanently  요런 에러가 발생하면서 안된다.</h3>

<ul>
<li>항상 기본 설치 이기에 C:\Python27\Lib\site-packages\gdata  이곳에 설치 된다.</li>
<li>수정해야 할 부분은 C:\Python27\Lib\site-packages\gdata\docs\service.py 파일</li>
<li>server_response.status 로 검색 하면 302 만 처리되어 있습니다. 이를 아래와 같이 수정 하면 Moved Permanently 수정 할 수 있습니다.<br></li>
</ul>
<div class="highlight"><pre><code class="language-python" data-lang="python">    <span class="k">while</span> <span class="n">server_response</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">302</span> <span class="ow">or</span> <span class="n">server_response</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">301</span> <span class="ow">and</span> <span class="n">timeout</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</code></pre></div>
<h3>string.xml 을 csv 로 만들고 그걸 구글 자동 번역으로 변경하고 다시 xml 로 변경하는 프로그램</h3>

<ul>
<li>파이썬 프로그램 코드 </li>
</ul>

<p><script src="https://gist.github.com/pyeongho/fd6975c221e1ac00f0fa8728bf649daa.js"></script></p>

	  ]]></description>
	</item>

	<item>
	  <title>androidx navigation , Safe Arg</title>
	  <link>//navigation</link>
	  <author>PyeongHo</author>
	  <pubDate>2019-12-04T00:00:00+00:00</pubDate>
	  <guid>//navigation</guid>
	  <description><![CDATA[
	     <h3>참고</h3>

<ul>
<li><a href="https://developer.android.com/guide/navigation/navigation-pass-data">https://developer.android.com/guide/navigation/navigation-pass-data</a></li>
<li><a href="https://developer.android.com/jetpack/androidx/releases/navigation">https://developer.android.com/jetpack/androidx/releases/navigation</a></li>
<li><a href="https://www.charlezz.com/?p=354">https://www.charlezz.com/?p=354</a></li>
<li><a href="https://blog.naver.com/yoonhok_524/221530058636">https://blog.naver.com/yoonhok_524/221530058636</a></li>
</ul>

<h3>종속성 추가</h3>

<ul>
<li>프로젝트 레벨 </li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">buildscript {
    repositories {
        google()
    }
    dependencies {
        def nav_version = "2.1.0"
        classpath "androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version"
    }
}

</code></pre></div>
<ul>
<li>앱 레벨</li>
</ul>
<div class="highlight"><pre><code class="language-" data-lang="">apply plugin: "androidx.navigation.safeargs" or  apply plugin: "androidx.navigation.safeargs.kotlin"

dependencies {
  def nav_version = "2.1.0"

  // Java language implementation
  implementation "androidx.navigation:navigation-fragment:$nav_version"
  implementation "androidx.navigation:navigation-ui:$nav_version"

  // Kotlin
  implementation "androidx.navigation:navigation-fragment-ktx:$nav_version"
  implementation "androidx.navigation:navigation-ui-ktx:$nav_version"

}


</code></pre></div>
<h3>Safe Arg</h3>

<ul>
<li>번들을 사용해도 되지만 안전하게 변수로 사용하는 방법</li>
<li><p>방법</p>

<ul>
<li>액션을 만든다.</li>
<li>액션에 arg를 추가 한다.</li>
<li>도착지에 arg 를 추가한다.</li>
</ul></li>
<li><p>네비게이션 샘플</p>

<p><script src="https://gist.github.com/pyeongho/616fc4d88b8bd1f3bc3bb5ce2987b9b4.js"></script>  </p></li>
<li><p>시작 지 액션 실행</p>

<ul>
<li>자신이 정의 프래그먼트 이름(Register1Fragment)으로  xxxxxDirections 클래스(Register1FragmentDirections)가 자동 생성 되며 해당 클래스에 액션이 정의 되어 있다.<br>
<code>kotlin
val action = Register1FragmentDirections.actionNavRegister1ToNavRegister2(it.arg)
Navigation.findNavController(v).navigate(action)
</code></li>
</ul></li>
<li><p>종착지 확인</p>

<ul>
<li>자신이 정의한 이름에(Register2Fragment)  xxxArgs 가 추가된 클래스가 자동 생성되되 미리 정의된 변수를 확인 할 수 있습니다.<br></li>
</ul>
<div class="highlight"><pre><code class="language-kotlin" data-lang="kotlin">val args :Register2FragmentArgs by navArgs()
override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        log.d(args.name)
}

</code></pre></div></li>
</ul>

<h3>에러 발생 주의점</h3>

<ul>
<li>cannot inline bytecode built with jvm target 1.8 into bytecode that is being built with jvm target 1.6. please specify proper &#39;-jvm-target&#39; option</li>
<li>File-settings안의 kotlin compiler 안의 target JVM version을 바꿔준다 

<ul>
<li>File-Invalidate Caches / Restart 후 Build - Clean Project </li>
</ul></li>
<li>안되면 

<ul>
<li>build.gradle(module:app)안의  android{} 안에 kotlinOptions{jvmTarget = &quot;1.8&quot;} 을 넣는다<br></li>
</ul></li>
</ul>

	  ]]></description>
	</item>


</channel>
</rss>
